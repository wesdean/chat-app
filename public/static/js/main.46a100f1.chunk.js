(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{33:function(e,t,a){e.exports=a(73)},66:function(e,t){},73:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(29),c=a.n(l),o=a(2),s=a(81),i=a(7),u=a(30),m=a.n(u),p=Object(s.a)({chatForm:{width:"300px"},mainWindow:{height:"300px",overflow:"auto",border:"4px solid #00f",borderRadius:"3px",padding:"3px"},chatText:{borderRadius:"3px"},inputForm:{display:"flex",flexDirection:"column",border:"3px solid #eee",padding:"6px",borderRadius:"5px",marginTop:"6px"},input:{background:"#fff",padding:"3px",margin:"3px",borderRadius:"5px"},button:{background:"#00f",color:"#eee",borderRadius:"5px"}}),d=function(e){var t=e.title,a=p(),l=Object(n.useState)(m.a.connect("https://desolate-eyrie-58645.herokuapp.com/")),c=Object(o.a)(l,1)[0],s=Object(n.useState)([]),u=Object(o.a)(s,2),d=u[0],h=u[1],b=Object(n.useState)(""),E=Object(o.a)(b,2),f=E[0],g=E[1],v=Object(n.useState)(""),w=Object(o.a)(v,2),O=w[0],k=w[1],x=Object(n.useState)({}),j=Object(o.a)(x,2),y=j[0],N=j[1];Object(n.useEffect)((function(){return c.on("chat",(function(e){var t=Object(i.a)(d);t.push(e),h(t)})),c.on("typing",(function(e){var t=Object.assign({},y);t[e.handle]=e.handle,N(t)})),c.on("typing-stopped",(function(e){var t=Object.assign({},y);delete t[e.handle],N(t)})),function(){c.removeListener("chat"),c.removeListener("typing"),c.removeListener("typing-stopped")}}),[d,y]);return r.a.createElement("div",null,r.a.createElement("h2",null,"Window: ",t),r.a.createElement("form",{className:a.chatForm,onSubmit:function(e){e.preventDefault(),c.emit("chat",{handle:f,message:O}),k(""),c.emit("typing-stopped",{handle:f})}},r.a.createElement("div",{className:a.mainWindow},r.a.createElement("div",{className:a.chatText},d.map((function(e,t){return r.a.createElement("div",{key:t,className:a.chatEntry},r.a.createElement("strong",null,e.handle),": ",e.message)}))),r.a.createElement("div",{className:a.typing},Object.values(y).map((function(e){return r.a.createElement("div",{key:e},r.a.createElement("em",null,e," is typing"))})))),r.a.createElement("div",{className:a.inputForm},r.a.createElement("input",{className:a.input,value:f,placeholder:"Handle",onChange:function(e){return g(e.target.value)}}),r.a.createElement("input",{className:a.input,value:O,placeholder:"Message",onChange:function(e){k(e.target.value),e.target.value?c.emit("typing",{handle:f}):c.emit("typing-stopped",{handle:f})}}),r.a.createElement("button",{className:a.button},"Send"))))},h=a(31),b=a.n(h),E=Object(s.a)({chatWindows:{display:"flex"},chatContainer:{margin:"6px"},works:{color:"#0f0"},noWorks:{color:"#f00"}}),f=function(){var e=E(),t=Object(n.useState)(1),a=Object(o.a)(t,2),l=a[0],c=a[1];return r.a.createElement("div",null,r.a.createElement("h1",null,"Chat Demo"),r.a.createElement("p",null,"This demonstrates a chat app using web sockets. You can select up to 4 chat windows to open in the same window, or open multiple windows.",r.a.createElement("br",null),"Each chat window connects to the server and transmits data via web sockets.",r.a.createElement("br",null),"See the source on Github at ",r.a.createElement("a",{href:"https://github.com/wesdean/chat-app"},"https://github.com/wesdean/chat-app"),"."),r.a.createElement("p",null,"Tested on",r.a.createElement("ul",null,r.a.createElement("li",null,"MacOS/Chrome: ",r.a.createElement("span",{className:e.works},"works")),r.a.createElement("li",null,"MacOS/Safari: ",r.a.createElement("span",{className:e.noWorks},"does not work")),r.a.createElement("li",null,"iOS/Chrome: ",r.a.createElement("span",{className:e.noWorks},"does not work")),r.a.createElement("li",null,"iOS/Safari: ",r.a.createElement("span",{className:e.noWorks},"does not work")),r.a.createElement("li",null,"iOS/Firefox: ",r.a.createElement("span",{className:e.noWorks},"does not work")))),r.a.createElement("form",{onSubmit:function(e){e.preventDefault()}},r.a.createElement("label",null,"Number of chat windows:",r.a.createElement("select",{onChange:function(e){var t=Number(e.target.value);t&&c(t)},value:l},[1,2,3,4].map((function(e){return r.a.createElement("option",{key:e,value:e},e)}))))),r.a.createElement("div",{className:e.chatWindows},b.a.times(l,(function(t){return r.a.createElement("div",{key:t,className:e.chatContainer},r.a.createElement(d,{title:(t+1).toString()}))}))))};var g=function(){return r.a.createElement(f,null)};c.a.render(r.a.createElement(g,null),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.46a100f1.chunk.js.map